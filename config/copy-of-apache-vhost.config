## sudo vim prospecta-cc.conf 
## orcus.lan:/etc/apache2/sites-available$ sudo systemctl reload apache2

<VirtualHost *:35232>
    ServerName prospecta.orcus.lan
    DocumentRoot /var/www/prospecta.cc/html
    DirectoryIndex index.php index.html

    <Directory /var/www/prospecta.cc/html>
        Options -Indexes +FollowSymLinks -MultiViews
        AllowOverride None
        Require all granted
    </Directory>

    # Pretty URLs
    RewriteEngine On

    # Don’t rewrite real files/dirs
    RewriteCond %{REQUEST_FILENAME} -f [OR]
    RewriteCond %{REQUEST_FILENAME} -d
    RewriteRule ^ - [L]

    # Root and /index
    RewriteRule ^/?$ /index.php [L,QSA]
    RewriteRule ^/?index/?$ /index.php [L,QSA]

    # Whitelist routes → .php
    RewriteRule ^/(health|reference-checking)?$ /$1.php [L,QSA]

    <FilesMatch \.php$>
        SetHandler "proxy:unix:/run/php/php8.3-fpm.sock|fcgi://localhost"
    </FilesMatch>

    ErrorLog /var/www/prospecta.cc/logs/error.log
    CustomLog /var/www/prospecta.cc/logs/access.log combined
</VirtualHost>
