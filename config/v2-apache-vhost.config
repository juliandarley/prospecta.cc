<VirtualHost *:35232>
    ServerName prospecta.orcus.lan
    DocumentRoot /var/www/prospecta.cc/html
    DirectoryIndex index.php index.html

    <Directory /var/www/prospecta.cc/html>
        Options -Indexes +FollowSymLinks -MultiViews
        AllowOverride None
        Require all granted

        # Generic pretty URLs (no per‑page rules needed)
        <IfModule mod_rewrite.c>
            RewriteEngine On

            # Let real files/dirs pass through
            RewriteCond %{REQUEST_FILENAME} -f [OR]
            RewriteCond %{REQUEST_FILENAME} -d
            RewriteRule ^ - [L]

            # Root → index.php
            RewriteRule ^$ index.php [L,QSA]

            # Any extensionless path → same-name .php if it exists
            RewriteCond %{REQUEST_FILENAME}.php -f
            RewriteRule ^(.+?)/?$ $1.php [L,QSA]
        </IfModule>
    </Directory>

    <FilesMatch \.php$>
        SetHandler "proxy:unix:/run/php/php8.3-fpm.sock|fcgi://localhost"
    </FilesMatch>

    ErrorLog /var/www/prospecta.cc/logs/error.log
    CustomLog /var/www/prospecta.cc/logs/access.log combined
</VirtualHost>